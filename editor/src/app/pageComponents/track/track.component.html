<ul class='list-group'>
    <li class='list-group-item container-fluid'>

        <div class='row'>
            <span class='ml-3'>
                <app-checkbox
                        *ngIf='isEditMode() && !isFirst'
                        [styles]='[icons.moveUp]'
                        [colors]='["black"]'
                        (toggleEvent)='track.moveUp()'
                ></app-checkbox>
                <br>
                <app-checkbox
                        *ngIf='isEditMode() && !isLast'
                        [styles]='[icons.moveDown]'
                        [colors]='["black"]'
                        (toggleEvent)='track.moveDown()'
                ></app-checkbox>
            </span>
            <span>
                <app-image
                        [src]='restURL +"/images/" + track.path'
                        [flipX]='track.flipX'
                        [flipY]='track.flipY'
                        [scale]='track.scale'
                        [alignment]='track.alignment'
                        [rotate]='track.rotate'
                        [marginLeft]='track.marginLeft'
                        [marginRight]='track.marginRight'
                        [useColor]="track.useColor"
                        [limitColor]="track.limitColor"
                        [useColor1]="track.useColor1"
                        [color1]="track.color1"
                        [useColor2]="track.useColor2"
                        [color2]="track.color2"
                        [useColor3]="track.useColor3"
                        [color3]="track.color3"
                        [useStripes]="track.useStripes"
                        [stripeBlackWidth]="track.stripeBlackWidth"
                        [stripeTotalWidth]="track.stripeTotalWidth"
                ></app-image>
                </span>
            <span class='ml-1'>{{ track.name }}</span>
        </div>

        <div class='row mt-1'>

            <div class='col-2'>
                <app-checkbox
                        [value]='track.repeat'
                        [enabled]='isEditMode()'
                        [styles]='[icons.repeat]'
                        [colors]='["green", "grey"]'
                        (toggleEvent)='track.toggleRepeat()'
                ></app-checkbox>
            </div>

            <div class='col-2'>
                <app-checkbox
                        [value]='track.autostartNext'
                        [enabled]='isEditMode()'
                        [styles]='[icons.autoStartNext, icons.stop]'
                        [colors]='["green", "red"]'
                        (toggleEvent)='track.toggleAutostartNext()'
                ></app-checkbox>
            </div>

            <div class='col-2'>
                <app-checkbox
                        *ngIf='isEditMode()'
                        [value]='track.enabled'
                        [enabled]='isEditMode()'
                        [styles]='[icons.enabled, icons.disabled]'
                        [colors]='["green", "grey"]'
                        (toggleEvent)='track.toggleEnabled()'
                ></app-checkbox>
            </div>

            <div class='col-2'>
                <app-checkbox
                        *ngIf='isEditMode() && !track.isAdvancedMode()'
                        [value]='true'
                        [styles]='[icons.cross]'
                        [colors]='["red"]'
                        (toggleEvent)='track.cut()'
                ></app-checkbox>
            </div>

            <div class='col-2'>
                <app-checkbox
                        *ngIf='isEditMode() && !track.isAdvancedMode()'
                        [styles]='[icons.plus]'
                        [colors]='["blue"]'
                        (toggleEvent)='track.duplicate()'
                ></app-checkbox>
            </div>

            <div class='col-2'>
                <app-checkbox
                        *ngIf='isEditMode() && !track.isAdvancedMode()'
                        [styles]='[icons.dots]'
                        [colors]='["grey", "green"]'
                        (toggleEvent)='track.setAdvancedMode()'
                ></app-checkbox>
            </div>
        </div>

    </li>

</ul>
<div class='container-fluid'
     *ngIf='isEditMode()  && track.isAdvancedMode()'
>
    <div class='row mt-2'>

        <div class='col-2' style='align-content: center;'>
            <app-checkbox
                    [value]='track.flipX'
                    [styles]='[icons.leftRightArrow]'
                    [colors]='["green", "grey"]'
                    (toggleEvent)='track.toggleFlipX()'
            ></app-checkbox>
        </div>

        <div class='col-2' style='align-content: center;'>
            <app-checkbox
                    [value]='track.flipY'
                    [styles]='[icons.upDownArrow]'
                    [colors]='["green", "grey"]'
                    (toggleEvent)='track.toggleFlipY()'
            ></app-checkbox>
        </div>

        <div class='col-2' style='align-content: center;'>
            <app-checkbox
                    [value]='true'
                    [styles]='getRotateStyle()'
                    [colors]='["green"]'
                    (toggleEvent)='track.toggleRotate()'
            ></app-checkbox>
        </div>

        <div class='col-2' style='align-content: center;'>
            <app-checkbox
                    [value]='true'
                    [styles]='getAlignmentStyle()'
                    [colors]='["black"]'
                    (toggleEvent)='track.toggleAlignment()'
            ></app-checkbox>
        </div>

    </div>
</div>

<div class='container mt-1'
     *ngIf='isEditMode()  && track.isAdvancedMode()'
>

    <ul class="nav nav-pills nav-justified" id="myTab" role="tablist">
        <li class="nav-item">
            <a class="nav-link active" id="home-tab" data-toggle="tab" href="#basic" role="tab" aria-controls="Basic"
               aria-selected="true">Basic</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="profile-tab" data-toggle="tab" href="#color" role="tab" aria-controls="Color"
               aria-selected="false">Color</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="contact-tab" data-toggle="tab" href="#stripes" role="tab" aria-controls="Stripes"
               aria-selected="false">Stripes</a>
        </li>
    </ul>

    <div class="tab-content" id="myTabContent">
        <div class="tab-pane fade show active" id="basic" role="tabpanel" aria-labelledby="basic-tab">

            <div class='row mt-2'>
                <div class='col-12 col-sm-4'>
                    Speed
                </div>
                <div class='col-5 col-sm-4'>
                    <input class='form-control' type='number' [(ngModel)]='track.speed'>
                </div>
                <div class='col-7 col-sm-4'>
                    <app-slider min='.2' max='5' [round]='2' [(ngModel)]='track.speed'></app-slider>
                </div>
            </div>

            <hr/>
            <div class='row mt-2'>
                <div class='col-12 col-sm-4'>
                    Brightness
                </div>
                <div class='col-5 col-sm-4'>
                    <input class='form-control' type='number' [(ngModel)]='track.brightness'>
                </div>
                <div class='col-7 col-sm-4'>
                    <app-slider min='16' max='255' [round]='0' [(ngModel)]='track.brightness'></app-slider>
                </div>
            </div>

            <hr/>
            <div class='row mt-2'>
                <div class='col-12 col-sm-4'>
                    Scale
                </div>
                <div class='col-5 col-sm-4'>
                    <input class='form-control' type='number' [(ngModel)]='track.scale'>
                </div>
                <div class='col-7 col-sm-4'>
                    <app-slider min='.1' max='1' [(ngModel)]='track.scale'></app-slider>
                </div>
            </div>

            <hr/>
            <div class='row mt-2'>
                <div class='col-12 col-sm-4'>
                    Left Margin
                </div>
                <div class='col-5 col-sm-4'>
                    <input class='form-control' type='number' [(ngModel)]='track.marginLeft'>
                </div>
                <div class='col-7 col-sm-4'>
                    <app-slider min='0' max='5' [round]='2' [(ngModel)]='track.marginLeft'></app-slider>
                </div>
            </div>

            <hr/>
            <div class='row mt-2'>
                <div class='col-12 col-sm-4'>
                    Right Margin
                </div>
                <div class='col-5 col-sm-4'>
                    <input class='form-control' type='number' [(ngModel)]='track.marginRight'>
                </div>
                <div class='col-7 col-sm-4'>
                    <app-slider min='0' max='5' [round]='2' [(ngModel)]='track.marginRight'></app-slider>
                </div>
            </div>

        </div>

        <div class="tab-pane fade" id="color" role="tabpanel" aria-labelledby="color-tab">

            <div class='row mt-2 pt-2'>
                <div class='col-2 col-sm-4'>
                    <app-checkbox
                            [value]='track.useColor'
                            (toggleEvent)='track.toggleUseColor()'
                    ></app-checkbox>
                </div>
                <div class='col-5 col-sm-4'>
                    Use Color
                </div>
            </div>

            <div *ngIf="track.useColor" class='row mt-2 pt-2 border-top'>
                <div class='col-2 col-sm-4'>
                    <app-checkbox
                            [value]='track.limitColor'
                            (toggleEvent)='track.toggleLimitColor()'
                    ></app-checkbox>
                </div>
                <div class='col-5 col-sm-4'>
                    Limit Color
                </div>
            </div>

            <div *ngIf="track.useColor" class='row mt-2 pt-2 border-top'>
                <div class='col-2 col-sm-4'>
                    <app-checkbox
                            [value]='track.useColor1'
                            (toggleEvent)='track.toggleUseColor1()'
                    ></app-checkbox>
                </div>
                <div class='col-5 col-sm-4'>
                    Red channel
                </div>
                <div *ngIf="track.useColor1" class='col-5 col-sm-4'>
                    <input class='form-control color' type='color' [(ngModel)]='track.color1'>
                </div>
            </div>

            <div *ngIf="track.useColor" class='row mt-2 pt-2 border-top'>
                <div class='col-2 col-sm-4'>
                    <app-checkbox
                            [value]='track.useColor2'
                            (toggleEvent)='track.toggleUseColor2()'
                    ></app-checkbox>
                </div>
                <div class='col-5 col-sm-4'>
                    Green channel
                </div>
                <div *ngIf="track.useColor2" class='col-5 col-sm-4'>
                    <input class='form-control color' type='color' [(ngModel)]='track.color2'>
                </div>
            </div>

            <div *ngIf="track.useColor" class='row mt-2 pt-2 border-top'>
                <div class='col-2 col-sm-4'>
                    <app-checkbox
                            [value]='track.useColor3'
                            (toggleEvent)='track.toggleUseColor3()'
                    ></app-checkbox>
                </div>
                <div class='col-5 col-sm-4'>
                    Blue channel
                </div>
                <div *ngIf="track.useColor3" class='col-5 col-sm-4'>
                    <input class='form-control color' type='color' [(ngModel)]='track.color3'>
                </div>
            </div>

        </div>

        <div class="tab-pane fade" id="stripes" role="tabpanel" aria-labelledby="stripes-tab">

            <div class='row mt-2 pt-2'>
                <div class='col-2 col-sm-4'>
                    <app-checkbox
                            [value]='track.useStripes'
                            (toggleEvent)='track.toggleUseStripes()'
                    ></app-checkbox>
                </div>
                <div class='col-5 col-sm-4'>
                    Use Stripes
                </div>
            </div>

            <div *ngIf="track.useStripes" class='row mt-2 pt-2 border-top'>
                <div class='col-12 col-sm-4'>
                    n back lines, n=
                </div>
                <div class='col-5 col-sm-4'>
                    <input class='form-control' type='number' [(ngModel)]='track.stripeBlackWidth'>
                </div>
                <div class='col-7 col-sm-4'>
                    <app-slider min='1' [max]='track.stripeTotalWidth -1' [round]=0 [(ngModel)]='track.stripeBlackWidth'></app-slider>
                </div>
            </div>

            <div *ngIf="track.useStripes" class='row mt-2 pt-2 border-top'>
                <div class='col-12 col-sm-4'>
                    Every m lines, m=
                </div>
                <div class='col-5 col-sm-4'>
                    <input class='form-control' type='number' [(ngModel)]='track.stripeTotalWidth'>
                </div>
                <div class='col-7 col-sm-4'>
                    <app-slider min='2' [max]='this.serverConfig.NUM_LEDS / 6' [round]=0 [(ngModel)]='track.stripeTotalWidth'></app-slider>
                </div>
            </div>

        </div>
    </div>

    <div class='row mt-2 border-top'></div>
</div>
